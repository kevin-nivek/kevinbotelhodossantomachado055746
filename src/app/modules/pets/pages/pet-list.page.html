@let page = (page$ | async);
@let pageCount = (pageCount$ | async);


<div class="p-4">
  <h1 class="text-2xl font-bold mb-4">Pets Cadastrados</h1>

  <input
    type="text"
    placeholder="Buscar por nome"
    class="border p-2 mb-4 w-full md:w-1/3"
  />
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    @for (pet of (pets$ | async) ; track pet.id) {
    <div
      class="border rounded shadow p-4 cursor-pointer"
      (click)="viewDetail(pet.id)"
    >
      @if (pet.foto?.url) {
      <img
        [src]="pet.foto?.url"
        class="h-40 w-full object-cover mb-2 rounded"
      />
      }

      <h2 class="font-semibold text-lg">{{ pet.nome }}</h2>
      <p>Raça: {{ pet.raca }}</p>
      <p>Idade: {{ pet.idade }} anos</p>
    </div>
    }
  </div>

  <button
    class="mt-4 bg-blue-600 text-white px-4 py-2 rounded"
  (click)="nextPage(page!)"
  >
    Próxima Página
  </button>

  <span class="px-4 py-2">
    Página {{ page! + 1 }} de {{ pageCount }}
  </span>

  <button
    class="mt-4 bg-blue-600 text-white px-4 py-2 rounded"
  (click)="previousPage(page!)"
  >
    Página Anterior
  </button>
</div>
