<form
  [formGroup]="form"
  (ngSubmit)="submit()"
  class="max-w-lg mx-auto p-6 space-y-4">

  <h1 class="text-xl font-bold">
    {{ edit ? 'Editar Pet' : 'Cadastrar Pet' }}
  </h1>

  @if (fotoPreviewUrl) {
      <img
        [(src)]="fotoPreviewUrl"
        class="w-full h-64 object-cover rounded mb-4"
      />
      <button class="px-4 py-2 bg-red-600 text-white rounded"
        (click)="removerFoto(form.get('foto')?.value?.id)"
        type="button">
        Remover Foto
      </button>
    }
    @if (!fotoPreviewUrl) {
      <div>
        <label class="block mb-1 font-medium">Adicionar Foto</label>
        <input
          type="file"
          (change)="onFileSelected($event)"
          class="w-full border rounded p-2" />
      </div>
    }
  <!-- Nome -->
  <div>
    <label class="block mb-1 font-medium">Nome</label>
    <input
      type="text"
      formControlName="nome"
      class="w-full border rounded p-2" />

    @if (form.get('nome')?.invalid && form.get('nome')?.touched) {
      <small class="text-red-500">Nome é obrigatório</small>
    }
  </div>

  <!-- Raça -->
  <div>
    <label class="block mb-1 font-medium">Raça</label>
    <input
      type="text"
      formControlName="raca"
      class="w-full border rounded p-2" />

    @if (form.get('raca')?.invalid && form.get('raca')?.touched) {
      <small class="text-red-500">Raça é obrigatória</small>
    }
  </div>

  <!-- Idade -->
  <div>
    <label class="block mb-1 font-medium">Idade</label>
    <input
      type="number"
      formControlName="idade"
      class="w-full border rounded p-2" />
  </div>

  <!-- Botões -->
  <div class="flex gap-4">
    <button
      type="submit"
      [disabled]="form.invalid"
      class="px-4 py-2 bg-blue-600 text-white rounded">
      {{ edit ? 'Salvar' : 'Cadastrar' }}
    </button>

    <button
      type="button"
      class="px-4 py-2 border rounded"
      (click)="bakHome()">
      Cancelar
    </button>
  </div>

</form>
